<?xml version="1.0" encoding="utf-8"?>
<Page
    x:Class="SystemReview.Views.NetworkingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ScrollViewer Padding="16">
        <StackPanel Spacing="16">
            <Grid ColumnSpacing="8">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/><ColumnDefinition Width="Auto"/><ColumnDefinition Width="Auto"/><ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Button x:ConnectionId='24' x:Name="RefreshBtn" Content="🔄 Refresh"                          Grid.Column="0" Style="{StaticResource AccentButtonStyle}"/>
                <Button x:ConnectionId='25' Content="📋 Export JSON"                             Grid.Column="1"/>
                <Button x:ConnectionId='26' Content="📝 Export Text"                             Grid.Column="2"/>
                <TextBlock x:ConnectionId='27' x:Name="StatusText" Grid.Column="3" VerticalAlignment="Center" Margin="12,0,0,0" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
            </Grid>
            <ProgressBar x:ConnectionId='2' x:Name="LoadingBar" IsIndeterminate="True" Visibility="Collapsed"/>

            <!-- IP Config -->
            <TextBlock Text="🌐 IP Configuration" Style="{StaticResource SubtitleTextBlockStyle}"/>
            <ListView x:ConnectionId='3' x:Name="IpConfigList" SelectionMode="None" MaxHeight="300">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="8" Padding="4">
                            <TextBlock Text="{Binding Key}" FontWeight="SemiBold" Width="250"/>
                            <TextBlock Text="{Binding Value}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- Adapters -->
            <TextBlock Text="🔌 Network Adapters" Style="{StaticResource SubtitleTextBlockStyle}"/>
            <ListView x:ConnectionId='4' x:Name="AdapterList" SelectionMode="None" MaxHeight="250">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="4" ColumnSpacing="12">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="150"/><ColumnDefinition Width="*"/><ColumnDefinition Width="80"/><ColumnDefinition Width="80"/><ColumnDefinition Width="140"/>
                            </Grid.ColumnDefinitions>
                            <TextBlock Text="{Binding Name}" Grid.Column="0" FontWeight="SemiBold"/>
                            <TextBlock Text="{Binding Description}" Grid.Column="1" TextTrimming="CharacterEllipsis"/>
                            <TextBlock Text="{Binding Status}" Grid.Column="2"/>
                            <TextBlock Text="{Binding Speed}" Grid.Column="3"/>
                            <TextBlock Text="{Binding MacAddress}" Grid.Column="4" FontSize="11"/>
                        </Grid>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- Ping -->
            <TextBlock Text="📡 Ping Test" Style="{StaticResource SubtitleTextBlockStyle}"/>
            <StackPanel Orientation="Horizontal" Spacing="8">
                <TextBox x:ConnectionId='20' x:Name="PingInput" PlaceholderText="Host or IP (e.g. 8.8.8.8)" Width="250" Text="8.8.8.8"/>
                <Button x:ConnectionId='21' Content="Ping"                       Style="{StaticResource AccentButtonStyle}"/>
            </StackPanel>
            <ListView x:ConnectionId='5' x:Name="PingList" SelectionMode="None" MaxHeight="200">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="12" Padding="4">
                            <TextBlock Text="{Binding Timestamp}" Width="100"/><TextBlock Text="{Binding Host}" Width="120"/>
                            <TextBlock Text="{Binding Status}" Width="80"/><TextBlock Text="{Binding RoundtripMs}" Width="60"/>
                            <TextBlock Text="{Binding Ttl}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- Traceroute -->
            <TextBlock Text="🛤️ Traceroute" Style="{StaticResource SubtitleTextBlockStyle}"/>
            <StackPanel Orientation="Horizontal" Spacing="8">
                <TextBox x:ConnectionId='17' x:Name="TraceInput" PlaceholderText="Host (e.g. 8.8.8.8)" Width="250" Text="8.8.8.8"/>
                <Button x:ConnectionId='18' Content="Trace"                        Style="{StaticResource AccentButtonStyle}"/>
            </StackPanel>
            <ListView x:ConnectionId='6' x:Name="TraceList" SelectionMode="None" MaxHeight="300">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="12" Padding="4">
                            <TextBlock Text="{Binding Hop}" Width="40"/><TextBlock Text="{Binding Address}" Width="150"/>
                            <TextBlock Text="{Binding RoundtripMs}" Width="150"/><TextBlock Text="{Binding Status}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- Port Scan -->
            <TextBlock Text="🔓 Open Ports / Connections" Style="{StaticResource SubtitleTextBlockStyle}"/>
            <Button x:ConnectionId='7' Content="Scan Ports"                           />
            <ListView x:ConnectionId='8' x:Name="PortList" SelectionMode="None" MaxHeight="300">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="8" Padding="4">
                            <TextBlock Text="{Binding Protocol}" Width="40" FontWeight="SemiBold"/>
                            <TextBlock Text="{Binding LocalAddress}" Width="120"/><TextBlock Text="{Binding LocalPort}" Width="60"/>
                            <TextBlock Text="→" Width="20"/>
                            <TextBlock Text="{Binding RemoteAddress}" Width="120"/><TextBlock Text="{Binding RemotePort}" Width="60"/>
                            <TextBlock Text="{Binding State}" Width="100"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- DNS -->
            <TextBlock Text="🔍 DNS Lookup" Style="{StaticResource SubtitleTextBlockStyle}"/>
            <StackPanel Orientation="Horizontal" Spacing="8">
                <TextBox x:ConnectionId='13' x:Name="DnsInput" PlaceholderText="Hostname (e.g. www.microsoft.com)" Width="300" Text="www.microsoft.com"/>
                <Button x:ConnectionId='14' Content="Lookup"                      Style="{StaticResource AccentButtonStyle}"/>
            </StackPanel>
            <ListView x:ConnectionId='9' x:Name="DnsList" SelectionMode="None" MaxHeight="150">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="12" Padding="4">
                            <TextBlock Text="{Binding HostName}" Width="200"/><TextBlock Text="{Binding AddressFamily}" Width="120"/>
                            <TextBlock Text="{Binding Address}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>

            <!-- Net Stats -->
            <TextBlock Text="📊 Network Statistics" Style="{StaticResource SubtitleTextBlockStyle}"/>
            <ListView x:ConnectionId='10' x:Name="NetStatsList" SelectionMode="None" MaxHeight="250">
                <ListView.ItemTemplate>
                    <DataTemplate>
                        <StackPanel Orientation="Horizontal" Spacing="8" Padding="4">
                            <TextBlock Text="{Binding Key}" FontWeight="SemiBold" Width="280"/>
                            <TextBlock Text="{Binding Value}"/>
                        </StackPanel>
                    </DataTemplate>
                </ListView.ItemTemplate>
            </ListView>
        </StackPanel>
    </ScrollViewer>
</Page>

